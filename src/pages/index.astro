---
import Layout from '@/layouts/Layout.astro';
import ThemeToggle from '@/components/theme-toggle.tsx';
import HeroSlideshow from '@/components/hero/slideshow.tsx';
import { FadeIn } from '@/components/motion/FadeIn.tsx';
import { about, projects, experience, stack, contacts } from '@/lib/data';

// keeping this in case I ever want something on the nav bar
const navItems = [
];
const stackIconUrl = `https://skillicons.dev/icons?i=${stack.icons.join(',')}&perline=10`;
---
<Layout title='Nikita Lobanov · Go & TypeScript Engineer'>
	<header class='sticky top-0 z-30 border-b border-border/60 bg-background/80 backdrop-blur'>
		<div class='container flex items-center justify-between py-4 text-sm'>
				<a href='#hero' class='flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground'>
					<img src='/logo.svg' alt='Nikita Lobanov logo' class='h-6 w-6' loading='lazy' />
				</a>
			<nav class='hidden items-center gap-6 text-muted-foreground md:flex'>
				{navItems.map(item => (
					<a
						key={item.id}
						href={`#${item.id}`}
						class='text-sm transition-colors hover:text-foreground'
					>
						{item.label}
					</a>
				))}
			</nav>
			<div class='flex items-center gap-3'>
				<a
					href='/resume.pdf'
					target='_blank'
					rel='noreferrer'
					class='hidden rounded-md border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground transition-colors hover:bg-muted/50 hover:text-foreground md:inline-flex'
				>
					Resume
				</a>
				<ThemeToggle client:load />
			</div>
		</div>
	</header>
	<main class='flex-1'>
		<section id='hero' class='border-b border-border/60 bg-card/40'>
			<div class='container flex flex-col items-center gap-12 py-16 text-center md:flex-row md:items-center md:justify-between md:py-24 md:text-left'>
				<div class='space-y-6 md:max-w-xl'>
					<h1 class='text-balance text-4xl font-mono leading-tight md:text-5xl lg:text-6xl'>Nikita Lobanov</h1>
					<p class='text-xs uppercase tracking-[0.24em] text-muted-foreground/80'>Full-Stack Developer</p>
					<div class='flex flex-wrap justify-center gap-3 text-sm text-muted-foreground md:justify-start'>
						<a href='#projects' class='rounded-md bg-primary px-4 py-2 font-medium text-primary-foreground transition-colors hover:bg-primary/90'>View projects</a>
					</div>
				</div>
				<HeroSlideshow client:load class='mt-6 md:mt-0' />
			</div>
		</section>

		<section id='about' class='border-b border-border/60'>
			<div class='container grid gap-10 py-16 md:grid-cols-[1.1fr_0.9fr] md:py-20'>
				<div class='space-y-4'>
					<h2 class='text-3xl font-mono tracking-tight md:text-4xl'>About me</h2>
					<p class='text-muted-foreground whitespace-pre-line'>{about.summary}</p>
				</div>
				<div class='grid gap-6 text-sm text-muted-foreground'>
					<div>
						<p class='text-xs uppercase tracking-[0.2em] text-muted-foreground/70'>Tools</p>
						<ul class='mt-2 flex flex-wrap gap-2'>
							{about.tools.map(tool => (
								<li key={tool} class='rounded-md border border-border/60 px-3 py-1'>{tool}</li>
							))}
           	</ul>
					</div>
					<div>
						<p class='text-xs uppercase tracking-[0.2em] text-muted-foreground/70'>Currently</p>
						<ul class='mt-2 space-y-2'>
							{about.currently.map(item => (
								<li key={item} class='rounded-md border border-border/60 bg-background/60 px-4 py-3'>{item}</li>
							))}
						</ul>
					</div>
				</div>
			</div>
		</section>

		<section id='experience' class='border-b border-border/60'>
			<div class='container space-y-8 py-20'>
				<div class='space-y-4'>
					<h2 class='text-3xl font-mono tracking-tight md:text-4xl'>Experience</h2>
				</div>
				<div class='space-y-8 md:space-y-10'>
					{experience.map((role, index) => (
						<FadeIn key={role.company} client:visible delay={index * 0.1} className='rounded-lg border border-border/50 bg-background/60 p-6'>
							<div class='flex flex-col gap-2 sm:flex-row sm:items-baseline sm:justify-between'>
								<div>
									<h3 class='text-lg font-semibold text-foreground'>{role.role}</h3>
									<p class='text-sm text-muted-foreground'>{role.company}</p>
								</div>
								<p class='text-xs uppercase tracking-[0.18em] text-muted-foreground/70'>{role.period}</p>
							</div>
							<ul class='mt-3 space-y-2 text-sm text-muted-foreground'>
								{role.highlights.map(highlight => (
									<li key={highlight} class='leading-relaxed'>• {highlight}</li>
								))}
							</ul>
						</FadeIn>
					))}
				</div>
			</div>
		</section>

		<section id='projects' class='border-b border-border/60'>
			<div class='container space-y-8 py-20'>
				<div class='space-y-4'>
					<h2 class='text-3xl font-mono tracking-tight md:text-4xl'>Projects</h2>
				</div>
				<div class='grid gap-6 md:grid-cols-2'>
					{projects.map((project, index) => (
						<FadeIn key={project.title} client:visible delay={index * 0.1} className='rounded-lg border border-border/50 bg-card/40 p-6'>
							<div class='space-y-3'>
								<div>
									<h3 class='text-xl font-mono text-foreground'>{project.title}</h3>
									<p class='text-sm text-muted-foreground'>{project.descriptionPlain}</p>
								</div>
								<ul class='space-y-2 text-sm text-muted-foreground'>
									<li><span class='font-medium text-foreground'>Why:</span> {project.whyBuilt}</li>
									<li><span class='font-medium text-foreground'>Reflection:</span> {project.reflection}</li>
								</ul>
								<p class='text-xs uppercase tracking-[0.18em] text-muted-foreground/70'>{project.techStack.join(' · ')}</p>
								<a
									href={project.github}
									target='_blank'
									rel='noreferrer'
									class='inline-flex items-center gap-1 text-sm font-medium text-primary transition-colors hover:text-primary/80'
								>
									<span>GitHub</span>
									<span aria-hidden='true'>→</span>
								</a>
							</div>
						</FadeIn>
					))}
				</div>
			</div>
		</section>

		<section id='stack' class='border-b border-border/60'>
			<div class='container py-20'>
				<div class='mb-10 space-y-4 max-w-xl'>
					<h2 class='text-3xl font-mono tracking-tight md:text-4xl'>Current stack</h2>
					<p class='text-sm text-muted-foreground'>Tools I lean on daily to ship reliable software across the stack.</p>
				</div>
				<div class='grid gap-10 lg:grid-cols-[1.05fr_0.95fr] items-start'>
					<div class='space-y-6'>
						<div class='grid gap-4 sm:grid-cols-2'>
							{stack.categories.map(category => (
								<div key={category.label} class='rounded-md border border-border/50 bg-background/60 p-4'>
									<p class='text-[11px] uppercase tracking-[0.22em] text-muted-foreground/70'>{category.label}</p>
									<p class='mt-3 text-sm leading-relaxed text-foreground'>{category.items.join(' · ')}</p>
								</div>
							))}
						</div>
						{stack.exploring.length > 0 && (
							<div class='rounded-md border border-border/50 bg-background/60 p-4'>
								<p class='text-[11px] uppercase tracking-[0.22em] text-muted-foreground/70'>Exploring</p>
								<p class='mt-3 text-sm text-muted-foreground'>{stack.exploring.join(' · ')}</p>
							</div>
						)}
					</div>
					<div class='rounded-lg border border-border/50 bg-card/40 p-5'>
						<p class='text-[11px] uppercase tracking-[0.22em] text-muted-foreground/70 mb-4'>Snapshot</p>
						<div class='relative'>
							<img
								src={`https://skillicons.dev/icons?i=${stack.icons.join(',')}&perline=6`}
								alt='Technologies Nikita works with'
								class='w-full max-w-md mx-auto'
								loading='lazy'
							/>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section id='contact' class='bg-card/40'>
			<div class='container py-20'>
				<div class='mb-10 max-w-xl space-y-4'>
					<h2 class='text-3xl font-mono tracking-tight md:text-4xl'>Reach out</h2>
					<p class='text-muted-foreground'>I&apos;m looking for software engineering roles in Canada and west-coast US teams.</p>
				</div>
				<ul class='grid gap-4 sm:grid-cols-2 lg:grid-cols-3 text-sm'>
					<li class='flex items-center gap-3 rounded-md border border-border/50 bg-background/60 px-4 py-3'>
						<span class='min-w-[72px] font-mono text-[11px] uppercase tracking-[0.22em] text-muted-foreground/70'>Email</span>
						<a href={`mailto:${contacts.email}`} class='text-muted-foreground transition-colors hover:text-foreground'>{contacts.email}</a>
					</li>
					<li class='flex items-center gap-3 rounded-md border border-border/50 bg-background/60 px-4 py-3'>
						<span class='min-w-[72px] font-mono text-[11px] uppercase tracking-[0.22em] text-muted-foreground/70'>GitHub</span>
						<a href={contacts.github} target='_blank' rel='noreferrer' class='text-muted-foreground transition-colors hover:text-foreground'>{contacts.github}</a>
					</li>
					<li class='flex items-center gap-3 rounded-md border border-border/50 bg-background/60 px-4 py-3'>
						<span class='min-w-[72px] font-mono text-[11px] uppercase tracking-[0.22em] text-muted-foreground/70'>LinkedIn</span>
						<a href={contacts.linkedin} target='_blank' rel='noreferrer' class='text-muted-foreground transition-colors hover:text-foreground'>{contacts.linkedin}</a>
					</li>
				</ul>
			</div>
		</section>
	</main>
	<footer class='border-t border-border/60'>
		<div class='container flex flex-col gap-4 py-6 text-xs text-muted-foreground sm:flex-row sm:items-center sm:justify-between'>
			<p>© {new Date().getFullYear()} Nikita Lobanov. Built with Astro + Tailwind.</p>
			<div class='flex items-center gap-4'>
				<a href={contacts.github} target='_blank' rel='noreferrer' class='transition-colors hover:text-foreground'>GitHub</a>
				<a href={contacts.linkedin} target='_blank' rel='noreferrer' class='transition-colors hover:text-foreground'>LinkedIn</a>
				<a href={`mailto:${contacts.email}`} class='transition-colors hover:text-foreground'>Email</a>
			</div>
		</div>
	</footer>
</Layout>
